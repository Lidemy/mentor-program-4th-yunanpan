## 什麼是 DNS？Google 有提供的公開的 DNS，對 Google 的好處以及對一般大眾的好處是什麼？

DNS，Domain name server。一般使用者會以網址的方式去記憶或搜尋網站，像是輸入 google.com 就會連到 Google 頁面。而背後的運作是輸入了 google.com 後，會透過 DNS 查詢回傳 IP 位置，才將網頁呈現在面前。  
由於 DNS 是階層式架構，當 Client 端輸入網址後，假設是輸入 yunan.tw，DNS 快取伺服器就會先去問 .(root)，.(root) 只管理 .tw，所以不知道 yunan.tw 在哪，就會叫你繼續往下問（往左），問到 .tw，yunan.tw 是 .tw 管理的，所以可以告訴你 yunan.tw 的 IP。而透過設定的 TTL（time to live）時間，此筆紀錄可以存在 DNS 快取一段時間，所以在這段時間又收到相同網址的請求時，就可以直接從紀錄裡拿取 IP，而不用再去一一向下詢問。  
就像是小明要寄信，因為他是 email 時代的小明，所以對手寫信不熟悉，所以只寫了收件人住的大樓建案名稱（像是陶.朱.穩.園.）就把信寄出去了。郵差疑惑的問 DNS 集團陶.朱.穩.園.在哪，而 DNS 集團是採階層管理制的，所以只好一路從管理園、穩、朱、陶的人一步步問，終於問到了管理陶的人，才知道陶.朱.穩.園.的地址。但是沒人告訴小明要寫住址，而他一直以來寫建案名稱，信也都順利寄到了，所以他也不以為意，每次都寫今.澄.舞.、壁.砵.白.。階層管理制的壞處就是往上找人都要耗費時間，總不能每次都一直問，於是郵差就會將透過 DNS 集團回傳建案對應的地址暫時寄下來，等到下次小明又再寄給同一個對象時，他就可以直接把信送到記下來的地址。  
常見的 DNS 伺服器有 google 的 8.8.8.8 或是中華電信的 168.95.192.1 等。當眾多人都使用 google 的 DNS 查詢，google 的 DNS 就會暫時存取許多網域所對應的 IP，查詢的速度就有可能會比較快，因為已經存在於快取之中了。而對於 Google 的好處則是他可以掌握使用者的查詢紀錄，藉此拿到資訊加以分析。  

參考：
1. 〈[第十九章、主機名稱控制者： DNS 伺服器](http://linux.vbird.org/linux_server/0350dns.php#DNS_search)〉
2. 〈[TTL 是什麼？該設定多久？](https://haway.30cm.gg/what-is-ttl/)〉

## 什麼是資料庫的 lock？為什麼我們需要 lock？

為維持資料是固定的，當今天不同人都可以同時操作同一個值，server 也同時處理的話，就有可能會造成整體資料總數出錯。所以需要把該筆資料先鎖起來，等到其中一方操作完成後，才會執行到下個操作相同值的動作。只能在 Transaction 中才有用，在操作時加上 `for update` 使用：  
```
$conn->query("SELECT amount from products for update");
```  
例如網拍襯衫剩下 5 件，因為跳樓大拍賣，有 20 個人在搶，在此前提下沒有先鎖住第一筆交易待交易完成後再執行下一步的話，就有可能超賣了 15 件。


## NoSQL 跟 SQL 的差別在哪裡？

SQL，全名為 Structured Query Language，主要用於管理關聯式資料庫系統。關聯式資料庫中會有存放不同類型的 table，而各個不同 table 之間也會有所關連。像是音樂平台的專輯資料和歌手資料是不同的 table，但透過相同歌手名字可以互相連結。   
NoSQL，全名為 Not Only SQL，顧名思義就是不僅限於管理關聯式資料庫。資料型式以 `key-value` 存取，可以想像成存取類似 JSON 資料進入資料庫。通常用來存取結構不固定的大量資料，像是存取程式的 log，對應的欄位不一定，比較難像使用 SQL 時，將資料歸類整理成固定的結構。並且無法使用 `JOIN` 的語法。

參考：
1. 〈[SQL/NoSQL是什麼？認識資料庫管理系統DBMS](https://tw.alphacamp.co/blog/sql-nosql-database-dbms-introduction)〉


## 資料庫的 ACID 是什麼？

為了保證 Transaction 的正確性，所需要符合的四個要點：  
1. Atomicity 原子性：不是全部失敗就是全部成功，不會有在所有操作中其中幾個成功、幾個失敗的情形。
2. Consistency 一致性：維持資料的一致性。在交易的過程中，A 和 B 手上原有總共金額是 100，交易完成後總金額也應該是 100，不會有 A 和 B 交易完成後，總額只剩 80 的情況。
3. Isolation 隔離性：多筆交易不會互相影響，亦即不能同時修改同一個值。
4. Durability 持久性：交易成功之後，寫入的資料不會不見，不會因為系統故障或重啟而變動。